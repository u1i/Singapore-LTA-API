<!DOCTYPE html>
<html>
  <head>
    <title>SG Buses</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: new google.maps.LatLng(1.29667298496, 103.854414225),
          mapTypeId: 'roadmap'
        });

        var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';
        var icons = {
          parking: {
            icon: iconBase + 'parking_lot_maps.png'
          },
          bus: {
            icon: 'http://www2.sotong.io/static/bus.png'
          },
          busred: {
            icon: 'http://www2.sotong.io/static/bus-red.png'
          },
          busgreen: {
            icon: 'http://www2.sotong.io/static/bus-green.png'
          },
          busorange: {
            icon: 'http://www2.sotong.io/static/bus-orange.png'
          },
          info: {
            icon: iconBase + 'info-i_maps.png'
          }
        };


        var features = [

{ position: new google.maps.LatLng(1.29698951191,103.853022012), type: 'busorange', title: 'Victoria St', text: ' Bus 2 (ETA 2018-01-06T07:22:48) standing only | ' },
{ position: new google.maps.LatLng(1.30075679527,103.856110405), type: 'busorange', title: 'Victoria St', text: ' Bus 2 (ETA 2018-01-06T07:19:13) standing only | ' },
{ position: new google.maps.LatLng(1.29960410938,103.855129341), type: 'busorange', title: 'Victoria St', text: ' Bus 2 (ETA 2018-01-06T07:20:53) standing only | ' },
{ position: new google.maps.LatLng(1.30350269187,103.858645307), type: 'busorange', title: 'Victoria St', text: ' Bus 2 (ETA 2018-01-06T07:17:25) standing only | ' },
{ position: new google.maps.LatLng(1.30526598536,103.860720199), type: 'busorange', title: 'Victoria St', text: ' Bus 2 (ETA 2018-01-06T07:16:18) standing only | ' },
{ position: new google.maps.LatLng(1.30757426746,103.863255961), type: 'busorange', title: 'Kallang Rd', text: ' Bus 2 (ETA 2018-01-06T07:15:02) standing only | ' },
{ position: new google.maps.LatLng(1.29618544092,103.8495803), type: 'busorange', title: 'Stamford Rd', text: ' Bus 124 (ETA 2018-01-06T07:21:17) standing only | ' },
{ position: new google.maps.LatLng(1.29411640848,103.850206069), type: 'busorange', title: 'Hill St', text: ' Bus 124 (ETA 2018-01-06T07:19:48) standing only | ' },
{ position: new google.maps.LatLng(1.292761324,103.849837413), type: 'busorange', title: 'Hill St', text: ' Bus 2 (ETA 2018-01-06T07:25:18) standing only | ' },
{ position: new google.maps.LatLng(1.29489484955,103.851081387), type: 'busorange', title: 'Victoria St', text: ' Bus 2 (ETA 2018-01-06T07:23:58) standing only | ' },
{ position: new google.maps.LatLng(1.28898962181,103.847089764), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 124 (ETA 2018-01-06T07:17:29) standing only | ' },
{ position: new google.maps.LatLng(1.29084476137,103.84857901), type: 'busorange', title: 'Hill St', text: ' Bus 124 (ETA 2018-01-06T07:18:37) standing only | ' },
{ position: new google.maps.LatLng(1.29044830831,103.848751235), type: 'busorange', title: 'Hill St', text: ' Bus 2 (ETA 2018-01-06T07:26:54) standing only | ' },
{ position: new google.maps.LatLng(1.28154583301,103.840877222), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 124 (ETA 2018-01-06T07:13:30) standing only | ' },
{ position: new google.maps.LatLng(1.28571089866,103.844372034), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 124 (ETA 2018-01-06T07:15:27) standing only | ' },
{ position: new google.maps.LatLng(1.27238421221,103.840939122), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-06T07:17:20) standing only | ' },
{ position: new google.maps.LatLng(1.28685859481,103.833600283), type: 'busorange', title: 'Zion Rd', text: ' Bus 195 (ETA 2018-01-06T07:15:17) standing only |  Bus 5 (ETA 2018-01-06T07:10:29) standing only | ' },
{ position: new google.maps.LatLng(1.28837086415,103.833498818), type: 'busorange', title: 'Zion Rd', text: ' Bus 195 (ETA 2018-01-06T07:15:40) standing only |  Bus 5 (ETA 2018-01-06T07:10:55) standing only | ' },
{ position: new google.maps.LatLng(1.29152472201,103.8322275), type: 'busorange', title: 'Zion Rd', text: ' Bus 195 (ETA 2018-01-06T07:16:38) standing only |  Bus 5 (ETA 2018-01-06T07:11:53) standing only | ' },
{ position: new google.maps.LatLng(1.31313747728,103.856356144), type: 'busorange', title: 'S goon Rd', text: ' Bus 21 (ETA 2018-01-06T07:16:06) standing only | ' },
{ position: new google.maps.LatLng(1.31503278657,103.857882704), type: 'busorange', title: 'S goon Rd', text: ' Bus 21 (ETA 2018-01-06T07:17:03) standing only | ' },
{ position: new google.maps.LatLng(1.30964820661,103.857353914), type: 'busorange', title: 'Kitchener Rd', text: ' Bus 21 (ETA 2018-01-06T07:14:10) standing only | ' },
{ position: new google.maps.LatLng(1.31284472583,103.859890883), type: 'busorange', title: 'Jln Besar', text: ' Bus 21 (ETA 2018-01-06T07:12:26) standing only | ' },
{ position: new google.maps.LatLng(1.29831153784,103.84525696), type: 'busorange', title: 'Penang Rd', text: ' Bus 124 (ETA 2018-01-06T07:23:09) standing only | ' },
{ position: new google.maps.LatLng(1.29811014244,103.847806369), type: 'busorange', title: 'Orchard Rd', text: ' Bus 124 (ETA 2018-01-06T07:22:16) standing only | ' },
{ position: new google.maps.LatLng(1.29986928716,103.840937461), type: 'busorange', title: 'Penang Rd', text: ' Bus 124 (ETA 2018-01-06T07:24:58) standing only | ' },
{ position: new google.maps.LatLng(1.30027569327,103.838776185), type: 'busorange', title: 'Somerset Rd', text: ' Bus 124 (ETA 2018-01-06T07:25:55) standing only | ' },
{ position: new google.maps.LatLng(1.30211335092,103.834316724), type: 'busorange', title: 'Orchard Turn', text: ' Bus 124 (ETA 2018-01-06T07:28:13) standing only | ' },
{ position: new google.maps.LatLng(1.30702238422,103.832655227), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-06T07:17:14) standing only | ' },
{ position: new google.maps.LatLng(1.30731999685,103.833160883), type: 'busorange', title: 'Scotts Rd', text: ' Bus 105 (ETA 2018-01-06T07:20:50) standing only | ' },
{ position: new google.maps.LatLng(1.27832046633,103.837625748), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 124 (ETA 2018-01-06T07:10:58) standing only | ' },
{ position: new google.maps.LatLng(1.27900819665,103.838603606), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 124 (ETA 2018-01-06T07:11:52) standing only | ' },
{ position: new google.maps.LatLng(1.28606797464,103.832833843), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 195 (ETA 2018-01-06T07:13:53) standing only | ' },
{ position: new google.maps.LatLng(1.28599961406,103.827481239), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 195 (ETA 2018-01-06T07:11:39) standing only | ' },
{ position: new google.maps.LatLng(1.28816729863,103.811678504), type: 'busorange', title: 'Hoy Fatt Rd', text: ' Bus 63 (ETA 2018-01-06T07:23:22) standing only | ' },
{ position: new google.maps.LatLng(1.28788221831,103.810993178), type: 'busorange', title: 'Hoy Fatt Rd', text: ' Bus 63 (ETA 2018-01-06T07:13:23) standing only | ' },
{ position: new google.maps.LatLng(1.28842024221,103.812575497), type: 'busorange', title: 'Hoy Fatt Rd', text: ' Bus 63 (ETA 2018-01-06T07:12:57) standing only | ' },
{ position: new google.maps.LatLng(1.28927790601,103.814048054), type: 'busorange', title: 'Lengkok Bahru', text: ' Bus 63 (ETA 2018-01-06T07:12:04) standing only | ' },
{ position: new google.maps.LatLng(1.2875472336,103.816399203), type: 'busorange', title: 'Redhill Rd', text: ' Bus 63 (ETA 2018-01-06T07:10:33) standing only | ' },
{ position: new google.maps.LatLng(1.28883435011,103.809249973), type: 'busorange', title: 'Jln Rumah Tinggi', text: ' Bus 63 (ETA 2018-01-06T07:15:06) standing only | ' },
{ position: new google.maps.LatLng(1.29636199316,103.832251294), type: 'busorange', title: 'River Valley Rd', text: ' Bus 195 (ETA 2018-01-06T07:19:27) standing only | ' },
{ position: new google.maps.LatLng(1.29591138901,103.836242778), type: 'busorange', title: 'River Valley Rd', text: ' Bus 195 (ETA 2018-01-06T07:20:28) standing only | ' },
{ position: new google.maps.LatLng(1.295931389,103.839378056), type: 'busorange', title: 'River Valley Rd', text: ' Bus 195 (ETA 2018-01-06T07:21:49) standing only | ' },
{ position: new google.maps.LatLng(1.29409221679,103.830837764), type: 'busorange', title: 'Zion Rd', text: ' Bus 195 (ETA 2018-01-06T07:17:24) standing only |  Bus 5 (ETA 2018-01-06T07:12:39) standing only | ' },
{ position: new google.maps.LatLng(1.29745598929,103.829963207), type: 'busorange', title: 'Hoot Kiam Rd', text: ' Bus 5 (ETA 2018-01-06T07:13:54) standing only | ' },
{ position: new google.maps.LatLng(1.30266053146,103.829877992), type: 'busorange', title: 'Paterson Rd', text: ' Bus 5 (ETA 2018-01-06T07:15:26) standing only | ' },
{ position: new google.maps.LatLng(1.27231269789,103.838620357), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-06T07:18:29) standing only | ' },
{ position: new google.maps.LatLng(1.27220342412,103.833902586), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-06T07:19:31) standing only | ' },
{ position: new google.maps.LatLng(1.27067760624,103.830613679), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-06T07:20:04) standing only | ' },
{ position: new google.maps.LatLng(1.26837500003,103.828258056), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-06T07:20:32) standing only | ' },
{ position: new google.maps.LatLng(1.26552421467,103.822113268), type: 'busorange', title: 'Telok Blangah Rd', text: ' Bus 30 (ETA 2018-01-06T07:22:55) standing only | ' },
{ position: new google.maps.LatLng(1.3145816493,103.840531903), type: 'busorange', title: 'Newton Rd', text: ' Bus 5 (ETA 2018-01-06T07:21:11) standing only | ' },
{ position: new google.maps.LatLng(1.31453779264,103.84082845), type: 'busorange', title: 'Newton Rd', text: ' Bus 5 (ETA 2018-01-06T07:17:35) standing only | ' },
{ position: new google.maps.LatLng(1.31095171989,103.835821012), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-06T07:19:17) standing only | ' },
{ position: new google.maps.LatLng(1.31243561231,103.837983413), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-06T07:19:57) standing only | ' },
{ position: new google.maps.LatLng(1.31223181292,103.838160956), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-06T07:19:11) standing only | ' },
{ position: new google.maps.LatLng(1.31258333303,103.831912222), type: 'busorange', title: 'Stevens Rd', text: ' Bus 105 (ETA 2018-01-06T07:19:11) standing only | ' },
{ position: new google.maps.LatLng(1.31388805601,103.827387778), type: 'busorange', title: 'Stevens Rd', text: ' Bus 105 (ETA 2018-01-06T07:18:00) standing only | ' },
{ position: new google.maps.LatLng(1.3170369801,103.826059543), type: 'busorange', title: 'Stevens Rd', text: ' Bus 105 (ETA 2018-01-06T07:17:09) standing only | ' },
{ position: new google.maps.LatLng(1.31933337975,103.825701096), type: 'busorange', title: 'Stevens Rd', text: ' Bus 105 (ETA 2018-01-06T07:16:21) standing only | ' },
{ position: new google.maps.LatLng(1.32127307293,103.841771724), type: 'busorange', title: 'Thomson Rd', text: ' Bus 21 (ETA 2018-01-06T07:15:09) standing only |  Bus 5 (ETA 2018-01-06T07:23:17) standing only | ' },
{ position: new google.maps.LatLng(1.32109968376,103.842243049), type: 'busorange', title: 'Thomson Rd', text: ' Bus 5 (ETA 2018-01-06T07:14:16) standing only | ' },
{ position: new google.maps.LatLng(1.32362333325,103.841615457), type: 'busorange', title: 'Thomson Rd', text: ' Bus 21 (ETA 2018-01-06T07:16:04) standing only | ' },
{ position: new google.maps.LatLng(1.3235410865,103.841893269), type: 'busorange', title: 'Thomson Rd', text: ' Bus 5 (ETA 2018-01-06T07:13:35) standing only |  Bus 851 (ETA 2018-01-06T07:19:29) standing only | ' },
{ position: new google.maps.LatLng(1.32489453398,103.842117444), type: 'busorange', title: 'Thomson Rd', text: ' Bus 167 (ETA 2018-01-06T07:20:36) standing only |  Bus 5 (ETA 2018-01-06T07:12:51) standing only |  Bus 851 (ETA 2018-01-06T07:18:44) standing only | ' },
{ position: new google.maps.LatLng(1.31743500022,103.841437899), type: 'busorange', title: 'Newton Rd', text: ' Bus 5 (ETA 2018-01-06T07:22:01) standing only | ' },
{ position: new google.maps.LatLng(1.31702163081,103.841647763), type: 'busorange', title: 'Newton Rd', text: ' Bus 5 (ETA 2018-01-06T07:16:51) standing only | ' },
{ position: new google.maps.LatLng(1.31829503183,103.845818504), type: 'busorange', title: 'Moulmein Rd', text: ' Bus 21 (ETA 2018-01-06T07:12:17) standing only | ' },
{ position: new google.maps.LatLng(1.31898808801,103.849290285), type: 'busorange', title: 'Moulmein Rd', text: ' Bus 21 (ETA 2018-01-06T07:10:59) standing only | ' },
{ position: new google.maps.LatLng(1.32665700619,103.843660097), type: 'busorange', title: 'Balestier Rd', text: ' Bus 21 (ETA 2018-01-06T07:17:58) standing only | ' },
{ position: new google.maps.LatLng(1.32663388888,103.84641), type: 'busorange', title: 'Balestier Rd', text: ' Bus 21 (ETA 2018-01-06T07:19:11) standing only | ' },
{ position: new google.maps.LatLng(1.32604500003,103.849023889), type: 'busorange', title: 'Balestier Rd', text: ' Bus 21 (ETA 2018-01-06T07:20:03) standing only | ' },
{ position: new google.maps.LatLng(1.31831836156,103.855091723), type: 'busorange', title: 'Balestier Rd', text: ' Bus 21 (ETA 2018-01-06T07:19:11) standing only | ' },
{ position: new google.maps.LatLng(1.31728239717,103.85671388), type: 'busorange', title: 'Balestier Rd', text: ' Bus 21 (ETA 2018-01-06T07:18:33) standing only | ' },
{ position: new google.maps.LatLng(1.32588166701,103.834534216), type: 'busorange', title: 'Whitley Rd', text: ' Bus 105 (ETA 2018-01-06T07:12:26) standing only |  Bus 985 (ETA 2018-01-06T07:11:11) standing only | ' },
{ position: new google.maps.LatLng(1.31414640056,103.86571468), type: 'busorange', title: 'Boon Keng Rd', text: ' Bus 21 (ETA 2018-01-06T07:14:04) standing only | ' },
{ position: new google.maps.LatLng(1.31456420794,103.860868215), type: 'busorange', title: 'Bendemeer Rd', text: ' Bus 21 (ETA 2018-01-06T07:11:15) standing only | ' },
{ position: new google.maps.LatLng(1.31783421341,103.860040425), type: 'busorange', title: 'S goon Rd', text: ' Bus 13 (ETA 2018-01-06T07:11:12) standing only | ' },
{ position: new google.maps.LatLng(1.32008815616,103.861797811), type: 'busorange', title: 'S goon Rd', text: ' Bus 13 (ETA 2018-01-06T07:12:08) standing only | ' },
{ position: new google.maps.LatLng(1.32258753768,103.863856827), type: 'busorange', title: 'S goon Rd', text: ' Bus 13 (ETA 2018-01-06T07:13:34) standing only | ' },
{ position: new google.maps.LatLng(1.32477289726,103.865567308), type: 'busorange', title: 'S goon Rd', text: ' Bus 13 (ETA 2018-01-06T07:14:23) standing only | ' },
{ position: new google.maps.LatLng(1.30941873981,103.867534973), type: 'busorange', title: 'Kallang Rd', text: ' Bus 2 (ETA 2018-01-06T07:13:21) standing only | ' },
{ position: new google.maps.LatLng(1.30992336178,103.871443447), type: 'busorange', title: 'Geylang Rd', text: ' Bus 2 (ETA 2018-01-06T07:12:27) standing only | ' },
{ position: new google.maps.LatLng(1.3107770782,103.87363664), type: 'busorange', title: 'Geylang Rd', text: ' Bus 2 (ETA 2018-01-06T07:11:02) standing only | ' },
{ position: new google.maps.LatLng(1.31251933501,103.871538308), type: 'busorange', title: 'Lor 1 Geylang', text: ' Bus 21 (ETA 2018-01-06T07:11:30) standing only | ' },
{ position: new google.maps.LatLng(1.30514903438,103.883420007), type: 'busorange', title: 'Mountbatten Rd', text: ' Bus 30 (ETA 2018-01-06T07:18:31) standing only | ' },
{ position: new google.maps.LatLng(1.30726086826,103.88490711), type: 'busorange', title: 'Old Airport Rd', text: ' Bus 30 (ETA 2018-01-06T07:17:07) standing only | ' },
{ position: new google.maps.LatLng(1.30821308596,103.888508774), type: 'busorange', title: 'Old Airport Rd', text: ' Bus 30 (ETA 2018-01-06T07:15:51) standing only | ' },
{ position: new google.maps.LatLng(1.29913832558,103.885530214), type: 'busorange', title: 'Fort Rd', text: ' Bus 30 (ETA 2018-01-06T07:20:52) standing only | ' },
{ position: new google.maps.LatLng(1.30320972764,103.884719202), type: 'busorange', title: 'Mountbatten Rd', text: ' Bus 30 (ETA 2018-01-06T07:19:15) standing only | ' },
        ];

        // Create markers.
        features.forEach(function(feature) {
          var marker = new google.maps.Marker({
            position: feature.position,
            icon: icons[feature.type].icon,
            map: map,
            title: feature.title
          });

          // Create our info window content
          var infoWindowContent = '<div class="info_content">' +
              '<h3>' + feature.title + '</h3>' +
              '<p>' + feature.text + '</p>' +
          '</div>';

          // Initialise the info Window
          var infoWindow = new google.maps.InfoWindow({
              content: infoWindowContent
          });

	google.maps.event.addListener(marker, 'click', function() {
        	infoWindow.open(map, marker);
	    });

        });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNrTsxaiXiYqNcNdoheNPH27QaKHbOPok&callback=initMap">
    </script>
  </body>
</html>
