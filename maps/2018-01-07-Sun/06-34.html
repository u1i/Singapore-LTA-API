<!DOCTYPE html>
<html>
  <head>
    <title>SG Buses</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: new google.maps.LatLng(1.29667298496, 103.854414225),
          mapTypeId: 'roadmap'
        });

        var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';
        var icons = {
          parking: {
            icon: iconBase + 'parking_lot_maps.png'
          },
          bus: {
            icon: 'http://www2.sotong.io/static/bus.png'
          },
          busred: {
            icon: 'http://www2.sotong.io/static/bus-red.png'
          },
          busgreen: {
            icon: 'http://www2.sotong.io/static/bus-green.png'
          },
          busorange: {
            icon: 'http://www2.sotong.io/static/bus-orange.png'
          },
          info: {
            icon: iconBase + 'info-i_maps.png'
          }
        };


        var features = [

{ position: new google.maps.LatLng(1.2977097061,103.853224746), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T06:37:05) standing only | ' },
{ position: new google.maps.LatLng(1.29698951191,103.853022012), type: 'busorange', title: 'Victoria St', text: ' Bus 33 (ETA 2018-01-07T06:41:19) standing only | ' },
{ position: new google.maps.LatLng(1.30075679527,103.856110405), type: 'busorange', title: 'Victoria St', text: ' Bus 33 (ETA 2018-01-07T06:37:37) standing only | ' },
{ position: new google.maps.LatLng(1.30015494414,103.855233229), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T06:38:21) standing only | ' },
{ position: new google.maps.LatLng(1.29960410938,103.855129341), type: 'busorange', title: 'Victoria St', text: ' Bus 33 (ETA 2018-01-07T06:39:26) standing only | ' },
{ position: new google.maps.LatLng(1.30393809691,103.858679992), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T06:40:46) standing only | ' },
{ position: new google.maps.LatLng(1.30350269187,103.858645307), type: 'busorange', title: 'Victoria St', text: ' Bus 33 (ETA 2018-01-07T06:35:43) standing only | ' },
{ position: new google.maps.LatLng(1.30551803523,103.860544952), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T06:41:48) standing only | ' },
{ position: new google.maps.LatLng(1.30526598536,103.860720199), type: 'busorange', title: 'Victoria St', text: ' Bus 33 (ETA 2018-01-07T06:34:24) standing only | ' },
{ position: new google.maps.LatLng(1.30709164634,103.862196952), type: 'busorange', title: 'Kallang Rd', text: ' Bus 197 (ETA 2018-01-07T06:42:29) standing only | ' },
{ position: new google.maps.LatLng(1.30647555601,103.864525278), type: 'busorange', title: 'Crawford St', text: ' Bus 980 (ETA 2018-01-07T07:07:39) standing only | ' },
{ position: new google.maps.LatLng(1.30211332865,103.862955982), type: 'busorange', title: 'Beach Rd', text: ' Bus 980 (ETA 2018-01-07T07:05:28) standing only | ' },
{ position: new google.maps.LatLng(1.303384444,103.864838889), type: 'busorange', title: 'Beach Rd', text: ' Bus 980 (ETA 2018-01-07T07:06:19) standing only | ' },
{ position: new google.maps.LatLng(1.29919826104,103.858645183), type: 'busorange', title: 'Beach Rd', text: ' Bus 980 (ETA 2018-01-07T07:04:03) standing only | ' },
{ position: new google.maps.LatLng(1.30088304438,103.860660982), type: 'busorange', title: 'Beach Rd', text: ' Bus 980 (ETA 2018-01-07T07:04:38) standing only | ' },
{ position: new google.maps.LatLng(1.30168731071,103.85752924), type: 'busorange', title: 'Ophir Rd', text: ' Bus 57 (ETA 2018-01-07T06:46:04) standing only | ' },
{ position: new google.maps.LatLng(1.29695888889,103.856556111), type: 'busorange', title: 'Beach Rd', text: ' Bus 980 (ETA 2018-01-07T07:02:16) standing only | ' },
{ position: new google.maps.LatLng(1.29738750001,103.855575833), type: 'busorange', title: 'Middle Rd', text: ' Bus 980 (ETA 2018-01-07T07:01:50) standing only | ' },
{ position: new google.maps.LatLng(1.28950305561,103.859033889), type: 'busorange', title: 'Raffles Ave', text: ' Bus 36 (ETA 2018-01-07T06:49:35) standing only | ' },
{ position: new google.maps.LatLng(1.2899638889,103.856403889), type: 'busorange', title: 'Raffles Ave', text: ' Bus 36 (ETA 2018-01-07T06:50:12) standing only | ' },
{ position: new google.maps.LatLng(1.29152694445,103.859206111), type: 'busorange', title: 'Raffles Blvd', text: ' Bus 36 (ETA 2018-01-07T06:46:54) standing only | ' },
{ position: new google.maps.LatLng(1.29560459818,103.85955533), type: 'busorange', title: 'Temasek Blvd', text: ' Bus 36 (ETA 2018-01-07T06:44:59) standing only | ' },
{ position: new google.maps.LatLng(1.29360811227,103.858406728), type: 'busorange', title: 'Temasek Blvd', text: ' Bus 36 (ETA 2018-01-07T06:46:03) standing only | ' },
{ position: new google.maps.LatLng(1.29070000004,103.860921944), type: 'busorange', title: 'Temasek Ave', text: ' Bus 36 (ETA 2018-01-07T06:48:12) standing only | ' },
{ position: new google.maps.LatLng(1.2940020309,103.851289839), type: 'busorange', title: 'Stamford Rd', text: ' Bus 36 (ETA 2018-01-07T06:52:26) standing only | ' },
{ position: new google.maps.LatLng(1.29618544092,103.8495803), type: 'busorange', title: 'Stamford Rd', text: ' Bus 36 (ETA 2018-01-07T06:55:34) standing only | ' },
{ position: new google.maps.LatLng(1.29309826447,103.849659945), type: 'busorange', title: 'Hill St', text: ' Bus 197 (ETA 2018-01-07T06:34:21) standing only | ' },
{ position: new google.maps.LatLng(1.292761324,103.849837413), type: 'busorange', title: 'Hill St', text: ' Bus 33 (ETA 2018-01-07T06:43:50) standing only | ' },
{ position: new google.maps.LatLng(1.29533777799,103.851139722), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T06:35:38) standing only | ' },
{ position: new google.maps.LatLng(1.29489484955,103.851081387), type: 'busorange', title: 'Victoria St', text: ' Bus 33 (ETA 2018-01-07T06:42:36) standing only | ' },
{ position: new google.maps.LatLng(1.29044830831,103.848751235), type: 'busorange', title: 'Hill St', text: ' Bus 33 (ETA 2018-01-07T06:45:24) standing only | ' },
{ position: new google.maps.LatLng(1.2888271793,103.847493812), type: 'busorange', title: 'New Bridge Rd', text: ' Bus 33 (ETA 2018-01-07T06:46:19) standing only | ' },
{ position: new google.maps.LatLng(1.28118388885,103.84105), type: 'busorange', title: 'New Bridge Rd', text: ' Bus 33 (ETA 2018-01-07T06:51:53) standing only | ' },
{ position: new google.maps.LatLng(1.2829381913,103.842542768), type: 'busorange', title: 'New Bridge Rd', text: ' Bus 33 (ETA 2018-01-07T06:50:35) standing only | ' },
{ position: new google.maps.LatLng(1.28531114762,103.844550707), type: 'busorange', title: 'New Bridge Rd', text: ' Bus 33 (ETA 2018-01-07T06:48:39) standing only | ' },
{ position: new google.maps.LatLng(1.28676420118,103.845750364), type: 'busorange', title: 'New Bridge Rd', text: ' Bus 33 (ETA 2018-01-07T06:47:24) standing only | ' },
{ position: new google.maps.LatLng(1.28165999997,103.838013889), type: 'busorange', title: 'Outram Rd', text: ' Bus 33 (ETA 2018-01-07T06:53:56) standing only | ' },
{ position: new google.maps.LatLng(1.2847598096,103.834056717), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T06:55:46) standing only |  Bus 5 (ETA 2018-01-07T06:45:09) standing only | ' },
{ position: new google.maps.LatLng(1.2862315772,103.834961624), type: 'busorange', title: 'Outram Rd', text: ' Bus 5 (ETA 2018-01-07T06:44:07) standing only | ' },
{ position: new google.maps.LatLng(1.29078162052,103.834409167), type: 'busorange', title: 'Kim Seng Rd', text: ' Bus 5 (ETA 2018-01-07T06:42:33) standing only | ' },
{ position: new google.maps.LatLng(1.30097493989,103.852179862), type: 'busorange', title: 'Bencoolen St', text: ' Bus 980 (ETA 2018-01-07T06:58:38) standing only | ' },
{ position: new google.maps.LatLng(1.30461300741,103.852000972), type: 'busorange', title: 'Sungei Rd', text: ' Bus 57 (ETA 2018-01-07T06:43:04) standing only |  Bus 980 (ETA 2018-01-07T06:56:28) standing only | ' },
{ position: new google.maps.LatLng(1.29949531348,103.853013954), type: 'busorange', title: 'Middle Rd', text: ' Bus 980 (ETA 2018-01-07T06:59:48) standing only | ' },
{ position: new google.maps.LatLng(1.30320609783,103.8555), type: 'busorange', title: 'Ophir Rd', text: ' Bus 57 (ETA 2018-01-07T06:44:32) standing only | ' },
{ position: new google.maps.LatLng(1.29831153784,103.84525696), type: 'busorange', title: 'Penang Rd', text: ' Bus 36 (ETA 2018-01-07T06:57:37) standing only | ' },
{ position: new google.maps.LatLng(1.29811014244,103.847806369), type: 'busorange', title: 'Orchard Rd', text: ' Bus 36 (ETA 2018-01-07T06:56:36) standing only | ' },
{ position: new google.maps.LatLng(1.2993099728,103.845290214), type: 'busorange', title: 'Orchard Rd', text: ' Bus 124 (ETA 2018-01-07T06:39:26) standing only | ' },
{ position: new google.maps.LatLng(1.29821382251,103.849361284), type: 'busorange', title: 'Bras Basah Rd', text: ' Bus 124 (ETA 2018-01-07T06:41:03) standing only | ' },
{ position: new google.maps.LatLng(1.29986928716,103.840937461), type: 'busorange', title: 'Penang Rd', text: ' Bus 36 (ETA 2018-01-07T06:59:25) standing only | ' },
{ position: new google.maps.LatLng(1.30027569327,103.838776185), type: 'busorange', title: 'Somerset Rd', text: ' Bus 36 (ETA 2018-01-07T07:00:12) standing only | ' },
{ position: new google.maps.LatLng(1.30047857308,103.841847006), type: 'busorange', title: 'Orchard Rd', text: ' Bus 124 (ETA 2018-01-07T06:38:02) standing only | ' },
{ position: new google.maps.LatLng(1.30252834774,103.832397843), type: 'busorange', title: 'Orchard Blvd', text: ' Bus 36 (ETA 2018-01-07T07:02:45) standing only | ' },
{ position: new google.maps.LatLng(1.30234004203,103.837012534), type: 'busorange', title: 'Orchard Rd', text: ' Bus 124 (ETA 2018-01-07T06:36:05) standing only | ' },
{ position: new google.maps.LatLng(1.30446065207,103.832944672), type: 'busorange', title: 'Orchard Rd', text: ' Bus 124 (ETA 2018-01-07T06:34:36) standing only | ' },
{ position: new google.maps.LatLng(1.30044251756,103.836238042), type: 'busorange', title: 'Grange Rd', text: ' Bus 36 (ETA 2018-01-07T07:01:08) standing only | ' },
{ position: new google.maps.LatLng(1.30453752623,103.829145296), type: 'busorange', title: 'Orchard Blvd', text: ' Bus 36 (ETA 2018-01-07T07:04:29) standing only | ' },
{ position: new google.maps.LatLng(1.30608981382,103.821221502), type: 'busorange', title: 'Napier Rd', text: ' Bus 105 (ETA 2018-01-07T06:41:28) standing only | ' },
{ position: new google.maps.LatLng(1.30602637557,103.825680426), type: 'busorange', title: 'Tanglin Rd', text: ' Bus 105 (ETA 2018-01-07T06:42:28) standing only | ' },
{ position: new google.maps.LatLng(1.30701353263,103.828355073), type: 'busorange', title: 'Orchard Rd', text: ' Bus 105 (ETA 2018-01-07T06:43:33) standing only | ' },
{ position: new google.maps.LatLng(1.30587966241,103.830490046), type: 'busorange', title: 'Orchard Rd', text: ' Bus 105 (ETA 2018-01-07T06:44:38) standing only | ' },
{ position: new google.maps.LatLng(1.30731999685,103.833160883), type: 'busorange', title: 'Scotts Rd', text: ' Bus 124 (ETA 2018-01-07T06:33:24) standing only |  Bus 5 (ETA 2018-01-07T06:36:44) standing only | ' },
{ position: new google.maps.LatLng(1.28227835417,103.822417443), type: 'busorange', title: 'Jln Bt Merah', text: ' Bus 5 (ETA 2018-01-07T06:51:24) standing only | ' },
{ position: new google.maps.LatLng(1.2858384714,103.832381799), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T06:56:48) standing only |  Bus 5 (ETA 2018-01-07T06:46:01) standing only | ' },
{ position: new google.maps.LatLng(1.28572048365,103.828529229), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T06:58:16) standing only |  Bus 5 (ETA 2018-01-07T06:47:32) standing only | ' },
{ position: new google.maps.LatLng(1.28593135446,103.826689692), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T06:59:25) standing only |  Bus 5 (ETA 2018-01-07T06:48:36) standing only | ' },
{ position: new google.maps.LatLng(1.28736808047,103.823460049), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T07:00:57) standing only | ' },
{ position: new google.maps.LatLng(1.28848771148,103.820944847), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T07:01:56) standing only | ' },
{ position: new google.maps.LatLng(1.2886002602,103.819031217), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T07:02:29) standing only | ' },
{ position: new google.maps.LatLng(1.28928144533,103.816628547), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 33 (ETA 2018-01-07T07:03:53) standing only | ' },
{ position: new google.maps.LatLng(1.29153833298,103.814451667), type: 'busorange', title: 'Alexandra Rd', text: ' Bus 33 (ETA 2018-01-07T07:05:14) standing only | ' },
{ position: new google.maps.LatLng(1.29215855274,103.810658661), type: 'busorange', title: 'Alexandra Rd', text: ' Bus 33 (ETA 2018-01-07T07:06:03) standing only | ' },
{ position: new google.maps.LatLng(1.28136306629,103.818344232), type: 'busorange', title: 'Henderson Rd', text: ' Bus 176 (ETA 2018-01-07T06:51:23) standing only | ' },
{ position: new google.maps.LatLng(1.28373603377,103.824895209), type: 'busorange', title: 'Lower Delta Rd', text: ' Bus 5 (ETA 2018-01-07T06:49:44) standing only | ' },
{ position: new google.maps.LatLng(1.29117049549,103.807861805), type: 'busorange', title: 'Alexandra Rd', text: ' Bus 33 (ETA 2018-01-07T07:07:08) standing only | ' },
{ position: new google.maps.LatLng(1.30673802172,103.820130799), type: 'busorange', title: 'Napier Rd', text: ' Bus 105 (ETA 2018-01-07T06:40:30) standing only | ' },
{ position: new google.maps.LatLng(1.30671783282,103.814518588), type: 'busorange', title: 'Holland Rd', text: ' Bus 105 (ETA 2018-01-07T06:39:03) standing only | ' },
{ position: new google.maps.LatLng(1.29362677394,103.832838535), type: 'busorange', title: 'Kim Seng Rd', text: ' Bus 5 (ETA 2018-01-07T06:41:43) standing only | ' },
{ position: new google.maps.LatLng(1.29504261896,103.83205533), type: 'busorange', title: 'Kim Seng Rd', text: ' Bus 5 (ETA 2018-01-07T06:41:16) standing only | ' },
{ position: new google.maps.LatLng(1.29796011529,103.830531836), type: 'busorange', title: 'Irwell Bank Rd', text: ' Bus 5 (ETA 2018-01-07T06:40:21) standing only | ' },
{ position: new google.maps.LatLng(1.30229926868,103.829992325), type: 'busorange', title: 'Paterson Rd', text: ' Bus 5 (ETA 2018-01-07T06:38:47) standing only | ' },
{ position: new google.maps.LatLng(1.27327278059,103.812470793), type: 'busorange', title: 'Henderson Rd', text: ' Bus 176 (ETA 2018-01-07T06:48:24) standing only | ' },
{ position: new google.maps.LatLng(1.275815,103.815075556), type: 'busorange', title: 'Henderson Rd', text: ' Bus 176 (ETA 2018-01-07T06:49:24) standing only | ' },
{ position: new google.maps.LatLng(1.27118550386,103.809418104), type: 'busorange', title: 'Telok Blangah Rd', text: ' Bus 176 (ETA 2018-01-07T06:47:08) standing only | ' },
{ position: new google.maps.LatLng(1.27914353103,103.816872509), type: 'busorange', title: 'Henderson Rd', text: ' Bus 176 (ETA 2018-01-07T06:50:30) standing only | ' },
{ position: new google.maps.LatLng(1.3066440446,103.849204167), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 57 (ETA 2018-01-07T06:41:30) standing only |  Bus 980 (ETA 2018-01-07T06:54:58) standing only | ' },
{ position: new google.maps.LatLng(1.3094913127,103.847707478), type: 'busorange', title: 'Kg Java Rd', text: ' Bus 57 (ETA 2018-01-07T06:40:34) standing only |  Bus 980 (ETA 2018-01-07T06:54:00) standing only | ' },
{ position: new google.maps.LatLng(1.31453779264,103.84082845), type: 'busorange', title: 'Newton Rd', text: ' Bus 5 (ETA 2018-01-07T06:33:16) standing only | ' },
{ position: new google.maps.LatLng(1.31133173991,103.8368695), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-07T06:35:16) standing only | ' },
{ position: new google.maps.LatLng(1.31223181292,103.838160956), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-07T06:34:32) standing only | ' },
{ position: new google.maps.LatLng(1.31194891032,103.847638562), type: 'busorange', title: 'Keng Lee Rd', text: ' Bus 57 (ETA 2018-01-07T06:39:28) standing only |  Bus 980 (ETA 2018-01-07T06:52:55) standing only | ' },
{ position: new google.maps.LatLng(1.31647941615,103.84484282), type: 'busorange', title: 'Thomson Rd', text: ' Bus 57 (ETA 2018-01-07T06:37:59) standing only |  Bus 980 (ETA 2018-01-07T06:51:35) standing only | ' },
{ position: new google.maps.LatLng(1.31962671002,103.843438625), type: 'busorange', title: 'Thomson Rd', text: ' Bus 57 (ETA 2018-01-07T06:36:04) standing only |  Bus 980 (ETA 2018-01-07T06:49:42) standing only | ' },
{ position: new google.maps.LatLng(1.3235410865,103.841893269), type: 'busorange', title: 'Thomson Rd', text: ' Bus 57 (ETA 2018-01-07T06:35:08) standing only |  Bus 980 (ETA 2018-01-07T06:48:52) standing only | ' },
{ position: new google.maps.LatLng(1.32489453398,103.842117444), type: 'busorange', title: 'Thomson Rd', text: ' Bus 57 (ETA 2018-01-07T06:34:29) standing only |  Bus 980 (ETA 2018-01-07T06:48:13) standing only | ' },
{ position: new google.maps.LatLng(1.30972482857,103.867430635), type: 'busorange', title: 'Kallang Rd', text: ' Bus 197 (ETA 2018-01-07T06:44:31) standing only |  Bus 980 (ETA 2018-01-07T07:10:27) standing only | ' },
{ position: new google.maps.LatLng(1.31107705659,103.871314905), type: 'busorange', title: 'Sims Ave', text: ' Bus 197 (ETA 2018-01-07T06:45:20) standing only | ' },
{ position: new google.maps.LatLng(1.31251499997,103.873261944), type: 'busorange', title: 'Sims Ave', text: ' Bus 197 (ETA 2018-01-07T06:46:26) standing only | ' },
{ position: new google.maps.LatLng(1.30992065474,103.87599805), type: 'busorange', title: 'Sims Way', text: ' Bus 197 (ETA 2018-01-07T06:49:03) standing only | ' },
{ position: new google.maps.LatLng(1.31009487385,103.879925017), type: 'busorange', title: 'Guillemard Rd', text: ' Bus 197 (ETA 2018-01-07T06:50:23) standing only | ' },
{ position: new google.maps.LatLng(1.31078371924,103.88313175), type: 'busorange', title: 'Guillemard Rd', text: ' Bus 197 (ETA 2018-01-07T06:51:26) standing only | ' },
        ];

        // Create markers.
        features.forEach(function(feature) {
          var marker = new google.maps.Marker({
            position: feature.position,
            icon: icons[feature.type].icon,
            map: map,
            title: feature.title
          });

          // Create our info window content
          var infoWindowContent = '<div class="info_content">' +
              '<h3>' + feature.title + '</h3>' +
              '<p>' + feature.text + '</p>' +
          '</div>';

          // Initialise the info Window
          var infoWindow = new google.maps.InfoWindow({
              content: infoWindowContent
          });

	google.maps.event.addListener(marker, 'click', function() {
        	infoWindow.open(map, marker);
	    });

        });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNrTsxaiXiYqNcNdoheNPH27QaKHbOPok&callback=initMap">
    </script>
  </body>
</html>
