<!DOCTYPE html>
<html>
  <head>
    <title>SG Buses</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: new google.maps.LatLng(1.29667298496, 103.854414225),
          mapTypeId: 'roadmap'
        });

        var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';
        var icons = {
          parking: {
            icon: iconBase + 'parking_lot_maps.png'
          },
          bus: {
            icon: 'http://www2.sotong.io/static/bus.png'
          },
          busred: {
            icon: 'http://www2.sotong.io/static/bus-red.png'
          },
          busgreen: {
            icon: 'http://www2.sotong.io/static/bus-green.png'
          },
          busorange: {
            icon: 'http://www2.sotong.io/static/bus-orange.png'
          },
          info: {
            icon: iconBase + 'info-i_maps.png'
          }
        };


        var features = [

{ position: new google.maps.LatLng(1.2977097061,103.853224746), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T08:05:00) standing only | ' },
{ position: new google.maps.LatLng(1.30075679527,103.856110405), type: 'busorange', title: 'Victoria St', text: ' Bus 960 (ETA 2018-01-07T08:06:01) standing only | ' },
{ position: new google.maps.LatLng(1.30015494414,103.855233229), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T08:06:27) standing only | ' },
{ position: new google.maps.LatLng(1.29960410938,103.855129341), type: 'busorange', title: 'Victoria St', text: ' Bus 960 (ETA 2018-01-07T08:07:16) standing only | ' },
{ position: new google.maps.LatLng(1.29886465442,103.857345836), type: 'busorange', title: 'Rochor Rd', text: ' Bus 48 (ETA 2018-01-07T08:04:56) standing only | ' },
{ position: new google.maps.LatLng(1.29309826447,103.849659945), type: 'busorange', title: 'Hill St', text: ' Bus 197 (ETA 2018-01-07T08:02:20) standing only | ' },
{ position: new google.maps.LatLng(1.29533777799,103.851139722), type: 'busorange', title: 'Victoria St', text: ' Bus 197 (ETA 2018-01-07T08:03:43) standing only | ' },
{ position: new google.maps.LatLng(1.28898962181,103.847089764), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 197 (ETA 2018-01-07T08:00:13) standing only | ' },
{ position: new google.maps.LatLng(1.28406979946,103.842998743), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 197 (ETA 2018-01-07T07:57:10) standing only | ' },
{ position: new google.maps.LatLng(1.28692928357,103.845403756), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 197 (ETA 2018-01-07T07:59:05) standing only | ' },
{ position: new google.maps.LatLng(1.27272393115,103.841406188), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-07T08:07:34) standing only | ' },
{ position: new google.maps.LatLng(1.2847598096,103.834056717), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 5 (ETA 2018-01-07T08:08:32) standing only | ' },
{ position: new google.maps.LatLng(1.2862315772,103.834961624), type: 'busorange', title: 'Outram Rd', text: ' Bus 5 (ETA 2018-01-07T08:07:19) standing only | ' },
{ position: new google.maps.LatLng(1.29078162052,103.834409167), type: 'busorange', title: 'Kim Seng Rd', text: ' Bus 5 (ETA 2018-01-07T08:05:53) standing only | ' },
{ position: new google.maps.LatLng(1.310388333,103.858706667), type: 'busorange', title: 'Jln Besar', text: ' Bus 147 (ETA 2018-01-07T08:03:40) standing only | ' },
{ position: new google.maps.LatLng(1.31284472583,103.859890883), type: 'busorange', title: 'Jln Besar', text: ' Bus 147 (ETA 2018-01-07T08:02:32) standing only | ' },
{ position: new google.maps.LatLng(1.30653024121,103.856163025), type: 'busorange', title: 'Jln Besar', text: ' Bus 147 (ETA 2018-01-07T08:05:12) standing only | ' },
{ position: new google.maps.LatLng(1.30431906266,103.855015643), type: 'busorange', title: 'Jln Besar', text: ' Bus 147 (ETA 2018-01-07T08:06:32) standing only | ' },
{ position: new google.maps.LatLng(1.3036564437,103.852573233), type: 'busorange', title: 'Rochor Canal Rd', text: ' Bus 48 (ETA 2018-01-07T07:54:34) standing only | ' },
{ position: new google.maps.LatLng(1.30461300741,103.852000972), type: 'busorange', title: 'Sungei Rd', text: ' Bus 170 (ETA 2018-01-07T08:05:58) standing only |  Bus 960 (ETA 2018-01-07T08:02:35) standing only | ' },
{ position: new google.maps.LatLng(1.3017197581,103.854613227), type: 'busorange', title: 'Rochor Rd', text: ' Bus 48 (ETA 2018-01-07T08:07:23) standing only | ' },
{ position: new google.maps.LatLng(1.30320609783,103.8555), type: 'busorange', title: 'Ophir Rd', text: ' Bus 960 (ETA 2018-01-07T08:04:06) standing only | ' },
{ position: new google.maps.LatLng(1.2993099728,103.845290214), type: 'busorange', title: 'Orchard Rd', text: ' Bus 502 (ETA 2018-01-07T08:13:19) standing only | ' },
{ position: new google.maps.LatLng(1.29821382251,103.849361284), type: 'busorange', title: 'Bras Basah Rd', text: ' Bus 502 (ETA 2018-01-07T08:15:29) standing only | ' },
{ position: new google.maps.LatLng(1.30047857308,103.841847006), type: 'busorange', title: 'Orchard Rd', text: ' Bus 502 (ETA 2018-01-07T08:11:48) standing only | ' },
{ position: new google.maps.LatLng(1.30154262451,103.838524818), type: 'busorange', title: 'Orchard Rd', text: ' Bus 502 (ETA 2018-01-07T08:10:09) standing only | ' },
{ position: new google.maps.LatLng(1.30446065207,103.832944672), type: 'busorange', title: 'Orchard Rd', text: ' Bus 174 (ETA 2018-01-07T08:07:11) standing only | ' },
{ position: new google.maps.LatLng(1.30386684425,103.834130701), type: 'busorange', title: 'Orchard Rd', text: ' Bus 502 (ETA 2018-01-07T08:07:54) standing only | ' },
{ position: new google.maps.LatLng(1.30608981382,103.821221502), type: 'busorange', title: 'Napier Rd', text: ' Bus 174 (ETA 2018-01-07T08:02:19) standing only | ' },
{ position: new google.maps.LatLng(1.30602637557,103.825680426), type: 'busorange', title: 'Tanglin Rd', text: ' Bus 174 (ETA 2018-01-07T08:03:24) standing only | ' },
{ position: new google.maps.LatLng(1.30701353263,103.828355073), type: 'busorange', title: 'Orchard Rd', text: ' Bus 174 (ETA 2018-01-07T08:04:33) standing only |  Bus 502 (ETA 2018-01-07T08:04:09) standing only | ' },
{ position: new google.maps.LatLng(1.30587966241,103.830490046), type: 'busorange', title: 'Orchard Rd', text: ' Bus 174 (ETA 2018-01-07T08:05:36) standing only |  Bus 502 (ETA 2018-01-07T08:05:49) standing only | ' },
{ position: new google.maps.LatLng(1.30731999685,103.833160883), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-07T07:59:40) standing only | ' },
{ position: new google.maps.LatLng(1.27832046633,103.837625748), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 197 (ETA 2018-01-07T07:54:18) standing only | ' },
{ position: new google.maps.LatLng(1.27900819665,103.838603606), type: 'busorange', title: 'Eu Tong Sen St', text: ' Bus 197 (ETA 2018-01-07T07:54:57) standing only | ' },
{ position: new google.maps.LatLng(1.2858384714,103.832381799), type: 'busorange', title: 'Tiong Bahru Rd', text: ' Bus 5 (ETA 2018-01-07T08:09:38) standing only | ' },
{ position: new google.maps.LatLng(1.30673802172,103.820130799), type: 'busorange', title: 'Napier Rd', text: ' Bus 174 (ETA 2018-01-07T08:01:15) standing only | ' },
{ position: new google.maps.LatLng(1.30671783282,103.814518588), type: 'busorange', title: 'Holland Rd', text: ' Bus 174 (ETA 2018-01-07T07:59:31) standing only | ' },
{ position: new google.maps.LatLng(1.29362677394,103.832838535), type: 'busorange', title: 'Kim Seng Rd', text: ' Bus 5 (ETA 2018-01-07T08:04:57) standing only | ' },
{ position: new google.maps.LatLng(1.29504261896,103.83205533), type: 'busorange', title: 'Kim Seng Rd', text: ' Bus 5 (ETA 2018-01-07T08:04:14) standing only | ' },
{ position: new google.maps.LatLng(1.29796011529,103.830531836), type: 'busorange', title: 'Irwell Bank Rd', text: ' Bus 5 (ETA 2018-01-07T08:03:15) standing only | ' },
{ position: new google.maps.LatLng(1.30229926868,103.829992325), type: 'busorange', title: 'Paterson Rd', text: ' Bus 5 (ETA 2018-01-07T08:01:41) standing only | ' },
{ position: new google.maps.LatLng(1.27261333298,103.836948611), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-07T08:06:17) standing only | ' },
{ position: new google.maps.LatLng(1.27046005042,103.829792773), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-07T08:05:18) standing only | ' },
{ position: new google.maps.LatLng(1.26804601554,103.827224905), type: 'busorange', title: 'Keppel Rd', text: ' Bus 30 (ETA 2018-01-07T08:04:40) standing only | ' },
{ position: new google.maps.LatLng(1.26592360897,103.82228278), type: 'busorange', title: 'Telok Blangah Rd', text: ' Bus 30 (ETA 2018-01-07T08:03:01) standing only | ' },
{ position: new google.maps.LatLng(1.26607869102,103.819778774), type: 'busorange', title: 'Telok Blangah Rd', text: ' Bus 30 (ETA 2018-01-07T08:01:44) standing only | ' },
{ position: new google.maps.LatLng(1.26863527735,103.815469524), type: 'busorange', title: 'Telok Blangah Rd', text: ' Bus 30 (ETA 2018-01-07T07:59:58) standing only | ' },
{ position: new google.maps.LatLng(1.26994046445,103.813154191), type: 'busorange', title: 'Telok Blangah Rd', text: ' Bus 30 (ETA 2018-01-07T07:59:05) standing only | ' },
{ position: new google.maps.LatLng(1.27118550386,103.809418104), type: 'busorange', title: 'Telok Blangah Rd', text: ' Bus 30 (ETA 2018-01-07T07:57:28) standing only | ' },
{ position: new google.maps.LatLng(1.30606411523,103.849087515), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T07:56:09) standing only | ' },
{ position: new google.maps.LatLng(1.3066440446,103.849204167), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 170 (ETA 2018-01-07T08:03:58) standing only |  Bus 960 (ETA 2018-01-07T08:00:36) standing only | ' },
{ position: new google.maps.LatLng(1.31103583297,103.8428175), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T07:58:37) standing only | ' },
{ position: new google.maps.LatLng(1.31142305601,103.84266), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 170 (ETA 2018-01-07T08:01:06) standing only |  Bus 960 (ETA 2018-01-07T07:57:46) standing only | ' },
{ position: new google.maps.LatLng(1.3120530772,103.840296503), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T07:59:06) standing only | ' },
{ position: new google.maps.LatLng(1.31230305602,103.840725556), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 170 (ETA 2018-01-07T08:00:33) standing only |  Bus 960 (ETA 2018-01-07T07:57:14) standing only | ' },
{ position: new google.maps.LatLng(1.31372223133,103.838097426), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T08:00:15) standing only | ' },
{ position: new google.maps.LatLng(1.31402305601,103.838846389), type: 'busorange', title: 'Dunearn Rd', text: ' Bus 170 (ETA 2018-01-07T07:58:56) standing only |  Bus 960 (ETA 2018-01-07T07:55:35) standing only | ' },
{ position: new google.maps.LatLng(1.31652526012,103.835707899), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T08:01:01) standing only | ' },
{ position: new google.maps.LatLng(1.31662138897,103.836343611), type: 'busorange', title: 'Dunearn Rd', text: ' Bus 170 (ETA 2018-01-07T07:58:10) standing only |  Bus 960 (ETA 2018-01-07T07:54:47) standing only | ' },
{ position: new google.maps.LatLng(1.31830398893,103.834351292), type: 'busorange', title: 'Dunearn Rd', text: ' Bus 170 (ETA 2018-01-07T07:57:15) standing only | ' },
{ position: new google.maps.LatLng(1.31918027797,103.829213611), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T08:03:04) standing only | ' },
{ position: new google.maps.LatLng(1.31972164158,103.829914566), type: 'busorange', title: 'Dunearn Rd', text: ' Bus 170 (ETA 2018-01-07T07:56:20) standing only | ' },
{ position: new google.maps.LatLng(1.32012951912,103.826052596), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T08:04:03) standing only | ' },
{ position: new google.maps.LatLng(1.32051637084,103.827379574), type: 'busorange', title: 'Dunearn Rd', text: ' Bus 170 (ETA 2018-01-07T07:55:52) standing only | ' },
{ position: new google.maps.LatLng(1.3094913127,103.847707478), type: 'busorange', title: 'Kg Java Rd', text: ' Bus 980 (ETA 2018-01-07T08:09:57) standing only | ' },
{ position: new google.maps.LatLng(1.31806499999,103.832625556), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T08:02:13) standing only | ' },
{ position: new google.maps.LatLng(1.31889734253,103.832495213), type: 'busorange', title: 'Dunearn Rd', text: ' Bus 170 (ETA 2018-01-07T07:56:52) standing only | ' },
{ position: new google.maps.LatLng(1.31453779264,103.84082845), type: 'busorange', title: 'Newton Rd', text: ' Bus 5 (ETA 2018-01-07T07:55:37) standing only | ' },
{ position: new google.maps.LatLng(1.31133173991,103.8368695), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-07T07:58:09) standing only | ' },
{ position: new google.maps.LatLng(1.31223181292,103.838160956), type: 'busorange', title: 'Scotts Rd', text: ' Bus 5 (ETA 2018-01-07T07:57:19) standing only | ' },
{ position: new google.maps.LatLng(1.30880664937,103.846346454), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 48 (ETA 2018-01-07T07:57:17) standing only | ' },
{ position: new google.maps.LatLng(1.30981925742,103.846039304), type: 'busorange', title: 'Bt Timah Rd', text: ' Bus 170 (ETA 2018-01-07T08:02:41) standing only |  Bus 960 (ETA 2018-01-07T07:59:05) standing only | ' },
{ position: new google.maps.LatLng(1.31194891032,103.847638562), type: 'busorange', title: 'Keng Lee Rd', text: ' Bus 980 (ETA 2018-01-07T08:08:46) standing only | ' },
{ position: new google.maps.LatLng(1.31647941615,103.84484282), type: 'busorange', title: 'Thomson Rd', text: ' Bus 980 (ETA 2018-01-07T08:07:21) standing only | ' },
{ position: new google.maps.LatLng(1.31962671002,103.843438625), type: 'busorange', title: 'Thomson Rd', text: ' Bus 980 (ETA 2018-01-07T08:05:17) standing only | ' },
{ position: new google.maps.LatLng(1.3235410865,103.841893269), type: 'busorange', title: 'Thomson Rd', text: ' Bus 980 (ETA 2018-01-07T08:04:29) standing only | ' },
{ position: new google.maps.LatLng(1.32489453398,103.842117444), type: 'busorange', title: 'Thomson Rd', text: ' Bus 980 (ETA 2018-01-07T08:03:48) standing only | ' },
{ position: new google.maps.LatLng(1.31702163081,103.841647763), type: 'busorange', title: 'Newton Rd', text: ' Bus 5 (ETA 2018-01-07T07:54:55) standing only | ' },
{ position: new google.maps.LatLng(1.31456420794,103.860868215), type: 'busorange', title: 'Bendemeer Rd', text: ' Bus 147 (ETA 2018-01-07T08:01:18) standing only | ' },
{ position: new google.maps.LatLng(1.31889711409,103.864214862), type: 'busorange', title: 'Bendemeer Rd', text: ' Bus 147 (ETA 2018-01-07T07:59:36) standing only |  Bus 985 (ETA 2018-01-07T08:06:38) standing only | ' },
{ position: new google.maps.LatLng(1.3220486156,103.866289822), type: 'busorange', title: 'Bendemeer Rd', text: ' Bus 147 (ETA 2018-01-07T07:58:19) standing only |  Bus 985 (ETA 2018-01-07T08:05:14) standing only | ' },
{ position: new google.maps.LatLng(1.32409476572,103.86764196), type: 'busorange', title: 'Bendemeer Rd', text: ' Bus 147 (ETA 2018-01-07T07:57:17) standing only |  Bus 985 (ETA 2018-01-07T08:04:18) standing only | ' },
{ position: new google.maps.LatLng(1.31380009198,103.87655394), type: 'busorange', title: 'Sims Ave', text: ' Bus 67 (ETA 2018-01-07T07:55:26) standing only | ' },
{ position: new google.maps.LatLng(1.31489775184,103.880951416), type: 'busorange', title: 'Sims Ave', text: ' Bus 67 (ETA 2018-01-07T07:56:50) standing only | ' },
{ position: new google.maps.LatLng(1.31532318661,103.883351733), type: 'busorange', title: 'Sims Ave', text: ' Bus 67 (ETA 2018-01-07T07:58:16) standing only | ' },
        ];

        // Create markers.
        features.forEach(function(feature) {
          var marker = new google.maps.Marker({
            position: feature.position,
            icon: icons[feature.type].icon,
            map: map,
            title: feature.title
          });

          // Create our info window content
          var infoWindowContent = '<div class="info_content">' +
              '<h3>' + feature.title + '</h3>' +
              '<p>' + feature.text + '</p>' +
          '</div>';

          // Initialise the info Window
          var infoWindow = new google.maps.InfoWindow({
              content: infoWindowContent
          });

	google.maps.event.addListener(marker, 'click', function() {
        	infoWindow.open(map, marker);
	    });

        });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNrTsxaiXiYqNcNdoheNPH27QaKHbOPok&callback=initMap">
    </script>
  </body>
</html>
